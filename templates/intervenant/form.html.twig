{% extends 'base.html.twig' %}

{% block body %}

    <h1>Formulaire ?</h1>

    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quasi mollitia, autem ex ipsa unde, voluptate in rem distinctio quas, dignissimos, incidunt fugit perferendis ducimus dolor.</p>

	{{ form_start(form) }}

        <div class="form-row">

            <div class="form-group col-md-3">

                {{ form_row(form.nom) }}

            </div>

            <div class="form-group col-md-3">

                {{ form_row(form.prenom) }}

            </div>

            <div class="form-group col-md-6">
                {{ form_label(form.mail) }}
                <div class="input-group mb-2">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fa fa-envelope"></i>
                        </div>
                    </div>
                    {{ form_widget(form.mail) }}
                </div>
           </div>

        </div>

        <div class="form-row">

            <div class="form-group col-md-8">

                {{ form_row(form.adresse) }}

            </div>

            <div class="form-group col-md-4">

                {{ form_row(form.cp) }}

            </div>

        </div>

        <div class="form-row">

            <div class="form-group col-md-6">

                {{ form_label(form.telFixe) }}
                <div class="input-group mb-2">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fa fa-phone"></i>
                        </div>
                    </div>
                    {{ form_widget(form.telFixe) }}
                </div>

            </div>

            <div class="form-group col-md-6">

                {{ form_label(form.telPortable) }}
                <div class="input-group mb-2">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fa fa-mobile"></i>
                        </div>
                    </div>
                    {{ form_widget(form.telPortable) }}
                </div>

            </div>

        </div>

        <div class="form-row">

            <div class="form-group col-md">

                 {{ form_row(form.emploi) }}

            </div>

        </div>

        <div class="form-row">

            <div class="form-group col-md-8">

                {{ form_row(form.diplome) }}

            </div>

            <div class="form-group col-md-4">

                {{ form_row(form.niveau) }}

            </div>

        </div>

        <div class="form-row">

            <div class="form-group col-md">

                {{ form_row(form.file) }}

            </div>

        </div>


		<button class="btn btn-primary" type="submit">Enregistrer</button>

	{{ form_end(form) }}

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
    <script>
        $( document ).ready(function() {

            $("#intervenant_niveau option[value='']").prop("disabled", true);

            function update_niveau(niveau) {
                $('#intervenant_niveau').val(niveau).change();
            }

            $(".select2-control-emploi").select2({
                placeholder: "Choisissez un emploi",
                //maximumSelectionLength: 1,
                theme: 'bootstrap4',
                tags: true
            });

            $(".select2-control-diplome").select2({
                placeholder: "Choisissez un diplome",
                theme: 'bootstrap4',
                tags: true
            });

            $('.select2-control-diplome').on('change', function(e) {
                var niveau = $('option:selected', this).attr('niveau');
                update_niveau(niveau ? niveau : null);
            });

            $(".select2-control-domaines").select2({
                placeholder: "Choisissez un domaine",
                theme: 'bootstrap4',
                tags: true
            });

            $('#intervenant_file').on('change', function(e) {
                var filename = $(this).val().replace(/.*(\/|\\)/, '');
                $(".custom-file label[for='intervenant_file']").text(filename);
            });

        });

    </script>

{% endblock %}
